<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Pie Chart des Genres d'Arbres</title>
  <!-- Inclure la bibliothèque Chart.js -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.4/Chart.min.js"></script>
</head>
<body>
<h1>Pie Chart des Genres d'Arbres</h1>
<div style="width: 80%; margin: 0 auto;">
  <!-- Créer un élément canvas pour le graphique -->
  <canvas id="pieChart"></canvas>
</div>

<!-- JavaScript pour créer la pie chart -->
<script>
  // Récupération des données depuis le contrôleur
  fetch("/pie-chart")
          .then(response => response.json())
          .then(data => {
            const genres = data.genres;
            const counts = data.counts;

            // Création de la pie chart
            const ctx = document.getElementById('pieChart').getContext('2d');
            const pieChart = new Chart(ctx, {
              type: 'pie',
              data: {
                labels: genres, // Labels des genres
                datasets: [{
                  data: counts, // Données des genres
                  backgroundColor: [
                    'rgba(255, 99, 132, 0.7)',
                    'rgba(54, 162, 235, 0.7)',
                    'rgba(255, 206, 86, 0.7)',
                    'rgba(75, 192, 192, 0.7)',
                    'rgba(153, 102, 255, 0.7)',
                    'rgba(255, 159, 64, 0.7)',
                    'rgba(255, 99, 132, 0.7)',
                  ],
                  borderColor: [
                    'rgba(255, 99, 132, 1)',
                    'rgba(54, 162, 235, 1)',
                    'rgba(255, 206, 86, 1)',
                    'rgba(75, 192, 192, 1)',
                    'rgba(153, 102, 255, 1)',
                    'rgba(255, 159, 64, 1)',
                    'rgba(255, 99, 132, 1)',
                  ],
                  borderWidth: 1,
                }],
              },
            });
          })
          .catch(error => {
            console.error(error);
          });
</script>
</body>
</html>
